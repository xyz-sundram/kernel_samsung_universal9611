name: GrassKernel
on: [push]
jobs:
  Build-A51-KSU:
    runs-on: ubuntu-latest
    steps:
      - name: Update the system
        run: sudo apt update
      - name: Install Dependencies
        run: sudo apt install -y bash git make libssl-dev curl bc pkg-config m4 libtool automake autoconf
      - name: Clone the repo
        run: git clone --depth 1 -b upstream https://github.com/Gojikovi/kernel_samsung_universal9611.git && cd kernel_samsung_universal9611 && pwd && ls
      - name: Install toolchain
        run: bash download_toolchain.sh
      - name: Build the kernel
        run: bash build_kernel.sh aosp ksu
      - uses: actions/upload-artifact@v3
        with:
              name: Kernel
              path: $PWD/Kernel.zip
